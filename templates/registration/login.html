{% load static %}
<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Iniciar sesión</title>

  <!-- Tailwind CDN y paleta (ya definida arriba si usas base.html). Si prefieres, puedes dejarlo aquí también. -->
  <script src="https://cdn.tailwindcss.com?plugins=forms"></script>
  <script>
    tailwind.config = {
      theme: { extend: {
        colors: {
          brand: '#0f7a4a', brandDark: '#0b5e39', teal:'#2ca67a', mint:'#b5ebcf', accent:'#f59e0b'
        },
        boxShadow: { soft: '0 10px 30px rgba(0,0,0,.08)' }
      } }
    }
  </script>
</head>
<body class="min-h-screen bg-gray-50 flex items-center justify-center p-4">

  <div class="w-full max-w-5xl bg-white shadow-soft rounded-2xl overflow-hidden grid md:grid-cols-2">

    <!-- Lado marca -->
    <div class="relative bg-gradient-to-br from-brand via-teal to-brandDark text-white p-8 flex flex-col">
      <!-- Logo -->
      <div class="mb-8">
        <!-- Pon tu logo si quieres -->
        <!-- <img src="{% static 'img/alimentatec-logo.png' %}" alt="AlimentaTec" class="h-10"> -->
        <h1 class="text-2xl font-bold tracking-wide">AlimentaTec Antioquia</h1>
      </div>

      <div class="flex-1 flex items-center">
        <div>
          <h2 class="text-3xl md:text-4xl font-extrabold leading-tight">Bienvenido</h2>
          <p class="mt-3 text-mint/90">
            Ingresa para continuar con tus aplicativos y diagnósticos.
          </p>
        </div>
      </div>

      <!-- Decoración tipo “ondas” -->
      <svg class="absolute bottom-0 left-0 w-full" viewBox="0 0 1440 120" xmlns="http://www.w3.org/2000/svg">
        <path fill="rgba(255,255,255,0.10)" d="M0,64L48,74.7C96,85,192,107,288,117.3C384,128,480,128,576,112C672,96,768,64,864,69.3C960,75,1056,117,1152,117.3C1248,117,1344,75,1392,53.3L1440,32L1440,120L1392,120C1344,120,1248,120,1152,120C1056,120,960,120,864,120C768,120,672,120,576,120C480,120,384,120,288,120C192,120,96,120,48,120L0,120Z"/>
      </svg>
    </div>

    <!-- Lado formulario -->
    <div class="p-8 md:p-10">
      {% if form.errors %}
        <div class="mb-4 rounded border border-accent/40 bg-accent/10 text-accent px-3 py-2">
          Usuario o contraseña inválidos.
        </div>
      {% endif %}

      <form method="post" class="space-y-5" novalidate>
        {% csrf_token %}

        <!-- Usuario -->
        <div>
          <label for="{{ form.username.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-1">Usuario</label>
          <input
            type="text"
            name="{{ form.username.html_name }}"
            id="{{ form.username.id_for_label }}"
            value="{{ form.username.value|default_if_none:'' }}"
            required
            autocomplete="username"
            class="block w-full rounded-full border-gray-300 px-4 py-2.5 shadow-sm focus:border-brand focus:ring-brand"
          />
          {% for e in form.username.errors %}<p class="text-sm text-red-600 mt-1">{{ e }}</p>{% endfor %}
        </div>

        <!-- Contraseña -->
        <div>
          <div class="flex items-center justify-between">
            <label for="{{ form.password.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-1">Contraseña</label>
            <a href="{% url 'password_reset' %}" class="text-sm text-brand hover:underline">¿Olvidaste tu contraseña?</a>
          </div>
          <input
            type="password"
            name="{{ form.password.html_name }}"
            id="{{ form.password.id_for_label }}"
            required
            autocomplete="current-password"
            class="block w-full rounded-full border-gray-300 px-4 py-2.5 shadow-sm focus:border-brand focus:ring-brand"
          />
          {% for e in form.password.errors %}<p class="text-sm text-red-600 mt-1">{{ e }}</p>{% endfor %}
        </div>

        {% if next %}<input type="hidden" name="next" value="{{ next }}">{% endif %}

        <button
          class="w-full rounded-full bg-brand text-white py-2.5 font-medium hover:bg-brandDark focus:outline-none focus:ring-2 focus:ring-brand focus:ring-offset-2 transition">
          Log in
        </button>
      </form>

      <p class="mt-6 text-sm text-gray-600">
        ¿No tienes cuenta? <span class="text-gray-400">Solicítala al administrador del programa.</span>
      </p>
    </div>
  </div>

</body>
</html>
