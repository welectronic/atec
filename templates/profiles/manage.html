{# templates/profiles/manage.html #}
{% extends "base.html" %}

{% block content %}
<div class="max-w-[1400px] mx-auto px-4 py-6">
  <div class="flex gap-4">
    <!-- Sidebar -->
    <aside id="profiles-sidebar" class="w-64 shrink-0 bg-white rounded-2xl shadow p-3 md:p-4 md:block hidden">
      <nav class="space-y-1" hx-boost="true" hx-target="#tab-content" hx-swap="innerHTML" hx-push-url="true">
  
        {% with active=current_tab %}
        <a
          data-tab="assessments"
          href="{% url 'profiles:assessment_list' company.id %}"
          class="group flex items-center gap-3 px-3 py-2 rounded-lg {% if active == 'assessments' %}bg-green-50 text-green-700 border border-green-200{% else %}text-gray-700 hover:bg-gray-100{% endif %}">
          <i data-lucide="clipboard-list" class="h-5 w-5 {% if active == 'assessments' %}text-green-600{% endif %}"></i>
          <span>Evaluaciones</span>
        </a>
  
        {% endwith %}
      </nav>
    </aside>
  
    <!-- Contenido -->
    <div class="flex-1" id="tab-content">
      {# cuando entra sin HTMX, cargamos por defecto el tab actual #}
      {% if current_tab == "questions" %}
        {% include "profiles/tabs/_questions.html" %}
      {% elif current_tab == "responses" %}
        {% include "profiles/tabs/_responses.html" %}
      {% else %}
        {% include "profiles/tabs/_assessments.html" %}
      {% endif %}
    </div>
  </div>
</div>
{% endblock %}
