{# templates/inventory/tabs/_services.html #}
<div class="flex items-center justify-between mb-4">
  <h2 class="text-lg font-semibold">Servicios técnicos</h2>
  <button
    id="btn-add-service" 
    class="btn btn-primary"
    hx-get="{% url 'inventory:service_create' company.id %}"
    hx-target="#modal"
    hx-swap="innerHTML"
    hx-push-url="false" 
    hx-sync="this:queue all"
  >
    <svg class="htmx-indicator hidden h-4 w-4 animate-spin" viewBox="0 0 24 24" aria-hidden="true">
      <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4" fill="none"></circle>
      <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"></path>
    </svg>
    <span>+ Agregar servicio</span>
    
  </button>
</div>

  {# Contenedor donde se inyecta la tabla #}
  <div
    id="services-table"
    hx-get="{% url 'inventory:service_list' company.id %}"
    hx-trigger="load, services:refresh from:body"
    hx-target="this"
    hx-swap="innerHTML"

  >
    {# Placeholder mientras carga por HTMX #}
    <div class="flex items-center gap-2 text-sm text-gray-500">
      <svg class="h-4 w-4 animate-spin" viewBox="0 0 24 24" fill="none">
        <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
        <path class="opacity-75" fill="currentColor"
              d="M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"></path>
      </svg>
      Cargando servicios…
    </div>
  </div>

